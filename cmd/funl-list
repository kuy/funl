#!/usr/bin/env bash

content=$(cat <<HELP
Usage: funl list [-1]

Lists all registered hook names.
If '-1' option is specified, funl lists one name per one line.
HELP)

shift
if [[ $1 == '-h' ]] || [[ $1 == '--help' ]]; then
  echo -e "$content"
  exit 0
fi

if [[ -z $FUNL_HOOKS ]]; then
  FUNL_HOOKS="$FUNL_ROOT/hooks"
fi

hooks=$(command ls -m "$FUNL_HOOKS" | grep -v funl)

if [[ -z $hooks ]]; then
  echo "funl: no hooks registered"
else
  echo "$hooks"
fi
